#method [![GoDoc](https://godoc.org/github.com/jimmyfrasche/method?status.png)](https://godoc.org/github.com/jimmyfrasche/method)
Package method provides helpers for dispatching http requests based on the method of the request.

Download:
```shell
go get github.com/jimmyfrasche/method
```

* * *
Package method provides helpers for dispatching http requests
based on the method of the request.

All of the code is trivial.
The meat of the package is a little more than a dozen SLOC.
It is just as easy to inline this into your implementation
or to write custom helpers more suited to your needs.

##Motivation
This functionality is often built into http routers,
but this is a troublesome conflation of ideas.

An http router should recognize a route.

What happens after that is up to the handler for that route.

Mixing route dispatching with method dispatching complicates the router.
The router needs to store multiple handlers per route for the different
methods it handles.

While most routers let you set a 404 Not Found handler,
few let you set a 405 Invalid Method handler, and fewer still per route.
Thus, if you need to handle 405's specially, you end up having to
write a handler that matches all methods that contains your custom
405 logic and your own method dispatching logic.

By separating route dispatch from method dispatch, you end up with two
simple, composable pieces that provide more flexibility.

The router need only dispatch based on the url
and the method dispatcher need only dispatch based on the request method.

Of course, there is certainly a convenience to be gained
by specifying something like

```
router.Get("path", handler)
```

versus

```
router.Add("path", method.Get(handler))
```

but this is easily handled by a trivial helper

```
router := NewRouter()
get := func(path string, handler http.Handler) {
	router.Add(path, method.Get(handler))
}
get("path", handler)
```

without sacrificing any simplicity or flexibility.

For that matter, if all your routes are GET only,
you can just write

```
http.ListenAndServe(addr, method.Get(router))
```



* * *
Automatically generated by [autoreadme](https://github.com/jimmyfrasche/autoreadme) on 2014.11.16
